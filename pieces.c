#include "headers.h"
#include "pieces.h"

const int cabra[43][5][5] = {  {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        {-1,-1,-1, 0, 0},
                        {-1, 1, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0,-1,-1,-1 ,0}, 
                        { 0, 0, 1, 0 ,0},
                        { 0, 0, 0, 0 ,0},
                        { 0, 0, 0, 0 ,0},
                        { 0, 0, 0, 0 ,0},},

                        {
                        { 0, 0,-1,-1,-1}, 
                        { 0, 0, 0, 1,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0}, 
                        {-1, 0, 0, 0, 0},
                        {-1, 1, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0}, 
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 1, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0}, 
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 1,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        {-1, 1, 0, 0, 0},
                        {-1,-1,-1, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 1, 0, 0},
                        { 0,-1,-1,-1, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 1,-1},
                        { 0, 0,-1,-1,-1},},
                        
                        {
                        {-1,-1,-1,-1, 0},
                        {-1, 2, 2, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0,-1,-1,-1,-1},
                        { 0, 0, 2, 2,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        {-1, 2, 2, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 2, 2,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        {-1, 2, 2, 0, 0},
                        {-1,-1,-1,-1, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 2, 2,-1},
                        { 0,-1,-1,-1,-1},},

                        {
                        {-1,-1,-1, 0, 0},
                        {-1, 2, 0, 0, 0},
                        {-1, 2, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        {-1, 2, 0, 0, 0},
                        {-1, 2, 0, 0, 0},
                        {-1,-1,-1, 0, 0},},

                        {
                        { 0,-1,-1,-1, 0},
                        { 0, 0, 2, 0, 0},
                        { 0, 0, 2, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 2, 0, 0},
                        { 0, 0, 2, 0, 0},
                        { 0,-1,-1,-1, 0},},

                        {
                        { 0, 0,-1,-1,-1},
                        { 0, 0, 0, 2,-1},
                        { 0, 0, 0, 2,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 2,-1},
                        { 0, 0, 0, 2,-1},
                        { 0, 0,-1,-1,-1},},

                        {
                        {-1,-1,-1,-1,-1},
                        {-1, 3, 3, 3,-1},
                        {-1, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0,-1},
                        {-1, 3, 3, 3,-1},
                        {-1, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0,-1},
                        {-1, 3, 3, 3,-1},
                        {-1,-1,-1,-1,-1},},

                        {
                        {-1,-1,-1, 0, 0},
                        {-1, 3, 0, 0, 0},
                        {-1, 3, 0, 0, 0},
                        {-1, 3, 0, 0, 0},
                        {-1,-1,-1, 0, 0},},

                        {
                        { 0,-1,-1,-1, 0},
                        { 0, 0, 3, 0, 0},
                        { 0, 0, 3, 0, 0},
                        { 0, 0, 3, 0, 0},
                        { 0,-1,-1,-1, 0},},

                        {
                        { 0, 0,-1, 0, -1},
                        { 0, 0, 0, 3, -1},
                        { 0, 0, 0, 3, -1},
                        { 0, 0, 0, 3, -1},
                        { 0, 0,-1,-1, -1},},

                        {
                        {-1,-1,-1,-1, 0},
                        {-1, 4, 4, 0, 0},
                        {-1, 4, 4, 0, 0},
                        {-1, 0, 0, 0, 0},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0,-1,-1,-1,-1},
                        { 0, 0, 4, 4,-1},
                        { 0, 0, 4, 4,-1},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 0, 0, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        {-1, 0, 0, 0, 0},
                        {-1, 4, 4, 0, 0},
                        {-1, 4, 4, 0, 0},
                        {-1,-1,-1,-1, 0},},

                        {
                        { 0, 0, 0, 0, 0},
                        { 0, 0, 0, 0,-1},
                        { 0, 0, 4, 4,-1},
                        { 0, 0, 4, 4,-1},
                        { 0,-1,-1,-1,-1},},

                        {
                        {-1,-1,-1,-1,-1},
                        {-1, 5, 5, 5,-1},
                        {-1, 0, 5, 0,-1},
                        { 0, 0, 5, 0, 0},
                        { 0,-1,-1,-1, 0},},

                        {
                        {-1,-1,-1, 0, 0},
                        {-1, 5, 0, 0,-1},
                        {-1, 5, 5, 5,-1},
                        {-1, 5, 0, 0,-1},
                        {-1,-1,-1, 0, 0},},

                        {
                        { 0,-1,-1,-1, 0},
                        { 0, 0, 5, 0, 0},
                        {-1, 0, 5, 0,-1},
                        {-1, 5, 5, 5,-1},
                        {-1,-1,-1,-1,-1},},

                        {
                        { 0, 0,-1,-1,-1},
                        {-1, 0, 0, 5,-1},
                        {-1, 5, 5, 5,-1},
                        {-1, 0, 0, 5,-1},
                        { 0, 0,-1,-1,-1},},

                        {
                        { 0,-1,-1,-1, 0},
                        {-1, 0, 6, 0,-1},
                        {-1, 6, 0, 6,-1},
                        {-1, 6, 6, 6,-1},
                        {-1,-1,-1,-1,-1},},

                        {
                        { 0,-1,-1,-1,-1},
                        {-1, 0, 6, 6,-1},
                        {-1, 6, 0, 6,-1},
                        {-1, 0, 6, 6,-1},
                        { 0,-1,-1,-1,-1},},

                        {
                        {-1,-1,-1,-1,-1},
                        {-1, 6, 6, 6,-1},
                        {-1, 6, 0, 6,-1},
                        {-1, 0, 6, 0,-1},
                        { 0,-1,-1,-1, 0},},

                        {
                        {-1,-1,-1,-1, 0},
                        {-1, 6, 6, 0,-1},
                        {-1, 6, 0, 6,-1},
                        {-1, 6, 6, 0,-1},
                        {-1,-1,-1,-1, 0},},

                        {

                        {-1,-1,-1,-1,-1},
                        {-1, 7, 0, 7,-1},
                        {-1, 7, 7, 7,-1},
                        {-1, 7, 0, 7,-1},
                        {-1,-1,-1,-1,-1},},

                        {
                        {-1,-1,-1,-1,-1},
                        {-1, 7, 7, 7,-1},
                        {-1, 0, 7, 0,-1},
                        {-1, 7, 7, 7,-1},
                        {-1,-1,-1,-1,-1},},
                        
                        {
                        {-1,-1,-1,-1,-1},
                        {-1, 8, 8, 8,-1},
                        {-1, 8, 0, 8,-1},
                        {-1, 8, 8, 8,-1},
                        {-1,-1,-1,-1,-1},}

                        };

/*Esta função irá returnar o identificador global das peças em função do 
identificador da peça e da variante
*/

int global_id_returner(int type_id, int instance_id)
{
    int global_id;
    switch (type_id)
    {
        case 1:
            global_id = instance_id;    
            break;

        case 2:
            global_id = instance_id + 9;
            break;

        case 3:
            global_id = instance_id + 21;
            break;

        case 4:
            global_id = instance_id + 27;
            break;

        case 5:
            global_id = instance_id + 31;
            break;

        case 6:
            global_id = instance_id + 35;
            break;

        case 7:
            global_id = instance_id + 39;
            break;

        case 8:
            global_id = 42;
            break;
    }
    return global_id;
}


//esta função identifica a posição das peças no tabuleiro em função com o identificador global
void positioning_pieces(int x, int y, int global_id, int board[17][26])
{
    for (int i = 0; i < 5; i++){
        for (int d = 0; d < 5; d++){
            if (cabra[global_id][i][d] > 0 || (cabra[global_id][i][d] == -1 && board [x - 1 + i][y - 1 + d] == 0))
                board [x - 1 + i][y - 1 + d] = cabra[global_id][i][d];
        }
    }
    
}